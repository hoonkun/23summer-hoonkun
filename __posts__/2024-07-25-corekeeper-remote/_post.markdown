---
author: GoHoon
title: Core Keeper 리모트 플레이 개발 후기
date: 2024-07-25 22:29
categories: [dev, dev-others]
expand:
  max_columns: 2
  max_rows: 2
---

코어키퍼 최고! 코어같은건 유기해버리고 너희도 같이 모험을 떠나지 않을래?

<!-- Excerpt -->

## 개발 후기

[Core Keeper](https://store.steampowered.com/app/1621690/Core_Keeper/) 플레이 타임을 450시간을 찍고 나서 얼마 뒤...

갑자기 코어키퍼를 휴대폰으로 해보고싶어졌다. 리모트 플레이 같은 형태이되, 간단한 UI 조이스틱을 만들고 그걸 서버로 보내 에뮬레이션 하는 형태로.  
자리가 난다면 코어키퍼 전용 키 바인딩 UI 도 넣고... 하면 좋을 것 같았다.

처음 구상은 이랬다:
- 실제 게임의 실행은 원격의 우분투가(프로톤?)
- iOS 에서는 WebRTC 프레임워크 → Swift 로 앱과 함께 임베딩
- 우분투에서는 GStreamer 사용해서 클라이언트로 영상을 던지자 → ~~파이썬~~ 자바가 있었다!!
- 데이터 채널로 아이폰의 별도 UI를 통해 키 입력을 전달하면 원격의 우분투가 에뮬레이션.

그 이후로 굉장히 많은 일이 있었다... 7월 6일에 시작해서 일주일만에 최소동작이 가능한 프로토타입이 나왔다.  
사무실 나가면서 작업한거라, 거의 퇴근 이후 시간대에 밤잠 줄여가면서 했다.

그게 아마 어느정도 완성이 끝나서 후기를 적고 있는 지금 아무것도 기억이 나지 않는 이유이겠지만... 아무튼.

보다 상세한 개발 후기는 클라이언트와 서버가 별도 게시글로 나뉘어있다. 내용이 많아서...  
흥미가 있는 쪽부터 살펴보시라.

- [CoreKeeper Remote 개발 후기 - 클라이언트 편](/posts/retrieve/2024-07-24-corekeeper-remote-client)  
  Compose(Jetpack, Multiplatform) 빠돌이의 좌충우돌 SwiftUI 도전기
- [CoreKeeper Remote 개발 후기 - 서버 편](/posts/retrieve/2024-07-24-corekeeper-remote-server)  
  Kotlin + Python (+ Shell Scripting) / Ktor + WebRTC + GStreamer + coturn 모든게 합쳐진 키메라같은 프로젝트

&nbsp;  
대충의 동작 화면은 아래와 같다:

![집](...image_base.../output_3.jpg)
> 집이다. 이쁘죠?

![사막의 Galaxite Boulder](...image_base.../output_2.jpg)
> Galaxite 내놔!

![전투 테스트](...image_base.../output_4.jpg)
> 전투 테스트. 죽을 뻔 했다...

![서버 설정 메뉴](...image_base.../output_1.jpg)
> 서버 설정 메뉴. 여러 서버를 추가해놓고 중간에 변경할 수도 있다.

&nbsp;  
최대한 화면을 잘 보이게 하기 위해 컨트롤러를 잘 안보이게 했다.
너무 많은 걸 넣은 느낌이기는 하지만, 나름 만족스러운 결과다. 장착 슬롯도 그립으로 변경할 수 있다.

다만... 전투 테스트같은건 좀 무리다.  
스팀덱이나 컨트롤러 환경에서처럼, 각 손가락이 버튼 위에 고정된 상태로 까딱하기만 하면 눌리는게 생각보다 중요했다.  

리모트 플레이에서는 이동과 왼쪽 아이템으로 전환, 아이템 소비를 모두 왼쪽 한 손가락이 핸들링하고 공격, 오른쪽 아이템으로 전환, 공격을 모두 오른쪽 한 손가락이 핸들링한다.
즉, 손가락이 너무 바쁘다. 게다가 미스터치가 나는 경우도 있어서, 빠른 대응이 필요한 전투는 무리다.

그냥 적당히 돌아다니면서 한 두 마리 처리하고 모험하기에는 좋은데, 전투 필드에서 노는건 무리인 느낌.

뭐.. 그래도 완전한 완성품이 나왔고 나름 처음 해보는 것들이 많았기 때문에 만든 것 자체에 의미가 있었다고 생각한다.

개발하면서 막힐 때마다 원인을 파악하고 해결의 실마리를 던져준 [@the_unstabler](https://x.com/the_unstabler) 형에게 다음에 뭐라도 사줘야겠다.  
이 사람이 없었으면 아마 중간에 포기하고 접었을 것이다...

아무튼 열불이 많이 나기는 했지만, 그래도 정신줄 끊어지기 전에 어느정도의 아웃풋이 나왔다.  
코드와 관련한 문서화는 딱히 한게 없지만 그래도 뭐 하다 헤맸는지, 뭐가 이상했고 어찌 해결했는지 대략적으로는 남겨둘 수 있었다.  

오랜만에 꽤 만족스러운 프로젝트였던 것 같다.

&nbsp;  
아, 아직까지는 다른 사람에게 쓸 수 있게 해줄 계획이 없다. 서버 셋업이 생각보다 복잡한 편이고, 턴서버도 굴릴 수 있어야 하고... 필요한게 많아서.  

혹시 그럼에도 돌려보고싶으신 분이 계시다면 아래 코멘트에 남겨주시라.